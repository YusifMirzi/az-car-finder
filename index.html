<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AZ Car Finder</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <h1>ðŸ‡¦ðŸ‡¿ AZ Car Finder</h1>
  <input id="plateInput" placeholder="99-AA-999" maxlength="10">
  <button onclick="findCar()">Axtar</button>

  <div class="result-box">
    <img id="carImage">
    <p id="resultText"></p>
  </div>

  <p>Yeni maÅŸÄ±n É™lavÉ™ etmÉ™k Ã¼Ã§Ã¼n <a href="upload.html">buraya kliklÉ™</a></p>
</div>

<!-- Firebase + App JS -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyA6_KRvzWOnugniooEVU2mYwyS4dQVEigg",
    authDomain: "az-car-finder.firebaseapp.com",
    projectId: "az-car-finder",
    appId: "1:57523334386:web:92894db01eb5eb64f0b46b"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function findCar() {
    const plate = document.getElementById("plateInput").value.toUpperCase();
    if (!plate) return;

    const carDoc = await getDoc(doc(db, "cars", plate));
    if (carDoc.exists()) {
      const car = carDoc.data();
      document.getElementById("carImage").src = car.image || "";
      document.getElementById("resultText").innerText =
        `${car.brand} ${car.model} (${car.color})`;
    } else {
      document.getElementById("carImage").src = "";
      document.getElementById("resultText").innerText = "Bu maÅŸÄ±n hÉ™lÉ™ É™lavÉ™ edilmÉ™yib.";
    }
  }
</script>
</body>
</html>
